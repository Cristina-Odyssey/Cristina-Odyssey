<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ôªÔ∏è The Big Waste Sorting Quiz</title>
<style>
  body {
    font-family: sans-serif;
    background-color: #eaf9f0;
    color: #333;
    max-width: 800px;
    margin: 40px auto;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    overflow-x: hidden;
  }
  h1 { text-align: center; color: #2e7d32; }
  .question { margin-bottom: 20px; font-size: 1.2em; }
  .answers button {
    display: block;
    margin: 8px 0;
    padding: 10px;
    width: 100%;
    font-size: 1em;
    background-color: #d7f9e9;
    border: 2px solid #2e7d32;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.3s;
  }
  .answers button:hover { background-color: #a5f0c5; transform: scale(1.03); }
  .feedback {
    margin-top: 10px;
    padding: 15px;
    border-left: 4px solid #2e7d32;
    background: #f4fff8;
    display: none;
    animation: fadeIn 0.5s ease-in-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .funny { color: #388e3c; margin-top: 5px; }
  .serious { color: #00695c; font-style: italic; margin-top: 5px; }
  .result {
    text-align: center;
    font-size: 1.3em;
    padding: 20px;
    background-color: #c8f7dc;
    border-radius: 10px;
    display: none;
  }
  .confetti {
    position: fixed;
    top: 0;
    width: 100%;
    height: 0;
    pointer-events: none;
    overflow: visible;
  }
  .piece {
    position: absolute;
    width: 10px;
    height: 20px;
    background-color: #ffb300;
    animation: fall 3s linear forwards;
  }
  @keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>

<h1>‚ôªÔ∏è The Big Waste Sorting Quiz</h1>

<div id="nameInput">
  <label>Enter your name:</label>
  <input type="text" id="playerNameInput" placeholder="Your name">
  <button onclick="startQuiz()">Start Quiz ‚û°Ô∏è</button>
</div>

<div id="quiz" style="display:none;"></div>
<div class="result" id="result"></div>
<div class="confetti" id="confetti"></div>

<!-- Sounds -->
<audio id="goodSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="badSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="winSound" src="https://actions.google.com/sounds/v1/alarms/air_horn.ogg"></audio>

<script>
let playerName = "";
let current = 0;
let score = 0;
let answersLog = [];

const quizData = [
  { q: "Where does a greasy empty pizza box belong?", options: ["Paper bin","Residual waste","Organic waste"], correct: 1,
    funny: "A greasy pizza box is every paper factory's kryptonite.",
    explanation: "Grease makes paper unsuitable for recycling. Only clean pieces go in the paper bin!",
    serious: "Greasy paper can ruin an entire recycling batch ‚Äì costing lots of water and energy." },

  { q: "Where does a tea bag go?", options: ["Organic waste","Paper","Residual waste"], correct: 0,
    funny: "Tea with a hint of compost ‚Äì nature loves it!",
    explanation: "Tea bags without plastic go in organic waste.",
    serious: "Properly sorting tea bags produces thousands of tons of compost yearly." },

  { q: "Should you rinse plastic bottles?", options: ["Yes","No","Sometimes"], correct: 0,
    funny: "Rinse them, or else the rain won't taste right.",
    explanation: "Leftover drinks make recycling harder.",
    serious: "Clean plastic is recycled more efficiently." },

  { q: "A soda can belongs in‚Ä¶", options: ["PMD","Residual waste","Organic waste"], correct: 0,
    funny: "Aluminum is gold in recycling.",
    explanation: "Cans go in PMD (Plastic, Metal, Drink cartons).",
    serious: "Aluminum can be recycled infinitely without quality loss." },

  { q: "Organic waste must not contain:", options: ["Fruit","Plastic bags","Coffee grounds"], correct: 1,
    funny: "Plastic hates compost parties.",
    explanation: "Only organic material goes in organic waste.",
    serious: "Plastic in organic waste damages composting and machines." },

  { q: "Glass bottles belong in‚Ä¶", options: ["Glass container","Residual waste","PMD"], correct: 0,
    funny: "No glass in your shoe, but in the glass bin!",
    explanation: "All glass bottles and jars go in the glass container.",
    serious: "Glass can be fully recycled without quality loss." },

  { q: "Tetra Pak (drink cartons) belong in‚Ä¶", options: ["PMD","Residual waste","Organic waste"], correct: 0,
    funny: "Tetra Pak is PMD's favorite pet.",
    explanation: "Drink cartons go in PMD.",
    serious: "Paper, aluminum, and plastic are separately recycled." },

  { q: "Coffee filters belong in‚Ä¶", options: ["Organic waste","Residual waste","Paper"], correct: 0,
    funny: "Filter + coffee = compost magic!",
    explanation: "Paper filters and coffee grounds are compostable.",
    serious: "Separating coffee waste helps produce high-quality compost." },

  { q: "Styrofoam belongs in‚Ä¶", options: ["Residual waste","PMD","Organic waste"], correct: 0,
    funny: "Fluffy but not recyclable in PMD.",
    explanation: "Styrofoam usually can't be recycled and goes in residual waste.",
    serious: "Incorrectly separated foam can damage recycling machines." },

  { q: "Used batteries go in‚Ä¶", options: ["Recycling center","Residual waste","PMD"], correct: 0,
    funny: "Batteries are tiny bombs ‚Äì recycling center is safe!",
    explanation: "Batteries contain heavy metals, never throw in residual waste.",
    serious: "Special collection prevents soil and water pollution." },
  // Add the remaining questions here in English in the same format
];

const quiz = document.getElementById("quiz");
const resultDiv = document.getElementById("result");

function startQuiz() {
  const input = document.getElementById("playerNameInput").value.trim();
  if(!input) { alert("Please enter your name first!"); return; }
  playerName = input;
  document.getElementById("nameInput").style.display = "none";
  quiz.style.display = "block";
  loadQuestion();
}

function loadQuestion() {
  const qData = quizData[current];
  quiz.innerHTML = `
    <div class="question"><b>Question ${current+1}:</b> ${qData.q}</div>
    <div class="answers">
      ${qData.options.map((opt,i)=>`<button onclick="checkAnswer(${i})">${String.fromCharCode(65+i)}) ${opt}</button>`).join("")}
    </div>
    <div class="feedback" id="feedback"></div>
  `;
}

function playSound(type) {
  const sound = document.getElementById(type);
  if (sound) { sound.currentTime = 0; sound.play(); }
}

function checkAnswer(choice) {
  const qData = quizData[current];
  const feedback = document.getElementById("feedback");
  const correct = choice === qData.correct;

  answersLog.push({
    question: qData.q,
    chosen: qData.options[choice],
    correct: correct
  });

  correct ? playSound("goodSound") : playSound("badSound");
  if(correct) score++;

  feedback.style.display = "block";
  feedback.innerHTML = `
    <b>${correct ? "‚úÖ Correct!" : "‚ùå Oops!"}</b><br>
    <p>${qData.explanation}</p>
    <p class="funny">üòÇ ${qData.funny}</p>
    <p class="serious">üåç ${qData.serious}</p>
    <button onclick="nextQuestion()">Next question ‚û°Ô∏è</button>
  `;
  document.querySelectorAll(".answers button").forEach(btn => btn.disabled = true);
}

function nextQuestion() {
  current++;
  if(current < quizData.length) loadQuestion();
  else showResult();
}

function showResult() {
  quiz.style.display = "none";
  let message = "";
  if(score >= 15) {
    message = "üåü Eco-hero! You sort waste like a pro.";
    playSound("winSound");
    launchConfetti();
  } else if(score >= 11) message = "üåø Conscientious citizen! Just a few more tweaks.";
  else if(score >= 6) message = "‚öôÔ∏è Doing well, but there is room for improvement.";
  else message = "üòÖ Time for a waste revolution in your kitchen!";

  resultDiv.style.display = "block";
  resultDiv.innerHTML = `<h2>Your score: ${score}/${quizData.length}</h2><p>${message}</p>`;

  saveScore(score);
}

function launchConfetti() {
  const confetti = document.getElementById("confetti");
  for(let i=0;i<100;i++){
    const piece = document.createElement("div");
    piece.className = "piece";
    piece.style.left = Math.random()*100 + "vw";
    piece.style.backgroundColor = `hsl(${Math.random()*360},70%,60%)`;
    piece.style.animationDelay = Math.random() * 1 + "s";
    piece.style.width = Math.random()*8 +5 +"px";
    piece.style.height = Math.random()*15 +10 +"px";
    confetti.appendChild(piece);
    setTimeout(()=>piece.remove(),4000);
  }
}

function saveScore(score) {
  const WEB_APP_URL = "https://script.google.com/macros/s/YOUR_WEB_APP_ID_HERE/exec";
  fetch(WEB_APP_URL, {
    method: "POST",
    body: JSON.stringify({
      name: playerName,
      score: score,
      answers: answersLog
    })
  }).catch(err => console.log("Score not saved:", err));
}
</script>
</body>
</html>
